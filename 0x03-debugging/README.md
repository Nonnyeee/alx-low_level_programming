function similar to the one you worked with in an earlier C project
